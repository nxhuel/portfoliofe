<section class="pt-5 container">
  <h2 class="text-center">{{'Recopilación de Proyectos' | translate}}</h2>
  <p class="text-center">
    {{'Repositorio de los proyectos que he desarrollado, ordenados del más
    reciente al más antiguo' | translate}}. {{'Cada uno incluye su descripción,
    tecnologías utilizadas y documentación en GitHub' | translate}}.
  </p>
  <p class="text-muted text-center">
    {{'Click en ' |translate}} <a href="/portfolio">{{'Inicio'| translate }}</a>
    {{'para volver a la página principal' | translate}}.
  </p>
  <hr class="divider w-25 mx-auto my-4" />
  <div class="pb-3">
    <h5 class="text-start">Indíce</h5>
    <ul class="list-unstyled text-center">
      @for (project of projects; track $index) {
      <li class="mb-2 text-start">
        <a href="#" (click)="scrollToProject($index); $event.preventDefault()">
          <span class="list-personality">{{ $index + 1 }}.</span> {{
          project.title }}
        </a>
      </li>
      }
    </ul>
  </div>
  @for (project of projects; track $index) {
  <div class="project-card pb-5" [id]="'proyecto-' + $index">
    <h5>Proyecto {{$index + 1}} - {{ project.title }}</h5>
    <div class="d-flex flex-row justify-content-between">
      <p>{{project.year}}</p>
      <a href="{{project.github}}" target="_blank" rel="noopener noreferrer"
        >GitHub</a
      >
    </div>
    <p>{{ project.description }}</p>
    <div
      class="d-grid justify-content-start gap-2"
            style="grid-template-columns: repeat(auto-fit, minmax(100px, auto))"

    >
      @for (tag of project.tags; track $index) {
      <p class="badge badge-text-personality">{{tag}}</p>
      }
    </div>
    <div class="d-flex flex-row w-50 justify-content-start ps-3">
      @if (project.type.startsWith('video')) {
      <video controls class="w-100 rounded">
        <source [attr.src]="project.video" [attr.type]="project.type" />
        Tu navegador no soporta el video.
      </video>
      } @else {
      <a [href]="project.video" target="_blank">
        <img
          [attr.src]="project.video"
          [attr.alt]="project.title"
          class="w-100 rounded"
          style="cursor: zoom-in"
        />
      </a>

      }
    </div>
  </div>
  }
</section>

<div class="position-fixed bottom-0 end-0 m-4">
  <button class="btn" (click)="scrollToTop()">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="30"
      height="30"
      fill="currentColor"
      class="bi bi-arrow-up-circle"
      viewBox="0 0 16 16"
    >
      <path
        fill-rule="evenodd"
        d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z"
      />
    </svg>
  </button>
</div>
